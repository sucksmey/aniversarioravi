<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Primeira Volta ao Sol do Ravi Luiz!</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;700&family=Balsamiq+Sans:wght@400;700&family=Pacifico&display=swap" rel="stylesheet">
    
    <style>
        /* --- Variáveis de Design --- */
        :root {
            --font-display: 'Pacifico', cursive; /* Para títulos principais */
            --font-body: 'Fredoka', sans-serif; /* Para texto geral */
            --font-ui: 'Balsamiq Sans', cursive; /* Para botões */
            
            --color-sky-light: #cbe9f9;
            --color-sky-dark: #87CEEB;
            --color-space: #0b0c1d;
            --color-sun: #FFD700;
            --color-flame: #FF6347;
            --color-grass: #88d498;
            --color-button: #ff7b9f;
            --color-button-shadow: #e0688a;
            --color-text-dark: #3a2b1f;
            --color-cloud: #fdfdfd;
        }

        /* --- Configuração Geral --- */
        body {
            margin: 0;
            font-family: var(--font-body);
            overflow: hidden; /* Essencial para a mágica */
            background-color: var(--color-space);
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        #container {
            width: 100vw;
            height: 100vh;
            position: relative;
            perspective: 1000px; /* Ativa a perspectiva 3D para transições */
        }

        .scene {
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            overflow: hidden;
            
            /* Animação de transição de cena */
            transition: opacity 1.2s ease-in-out, transform 1.2s cubic-bezier(0.68, -0.55, 0.27, 1.55);
            opacity: 0;
            visibility: hidden;
            transform: scale(0.8) rotateY(90deg); /* Começa "virada" e pequena */
        }

        .scene.active {
            opacity: 1;
            visibility: visible;
            transform: scale(1) rotateY(0deg); /* Entra na tela */
        }

        .scene.exiting {
            opacity: 0;
            transform: scale(1.2) rotateY(-90deg); /* Sai da tela */
        }

        /* --- Cena 1: O Convite Inicial --- */
        #scene1 {
            background: linear-gradient(to top, var(--color-sky-dark), var(--color-sky-light));
            gap: 20px;
        }
        
        #scene1::before { /* Partículas de "poeira mágica" */
            content: '';
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="10" cy="10" r="1" fill="white" opacity="0.8"/><circle cx="30" cy="80" r="1.5" fill="white" opacity="0.7"/><circle cx="50" cy="50" r="1" fill="white" opacity="0.9"/><circle cx="70" cy="20" r="1.2" fill="white" opacity="0.6"/><circle cx="90" cy="90" r="1" fill="white" opacity="0.8"/></svg>');
            background-size: 100px 100px;
            animation: sparkle-float 15s linear infinite;
            opacity: 0.5;
        }

        #intro-title {
            font-family: var(--font-display);
            font-size: 3rem;
            color: var(--color-text-dark);
            text-shadow: 2px 2px 0 #fff, 4px 4px 0 rgba(0,0,0,0.1);
            text-align: center;
            line-height: 1.2;
        }

        #startButton {
            font-family: var(--font-ui);
            font-size: 1.8rem;
            padding: 20px 45px;
            border: none;
            border-radius: 50px;
            background-color: var(--color-button);
            color: white;
            cursor: pointer;
            box-shadow: 0 10px 0 var(--color-button-shadow);
            transition: all 0.1s ease-out;
            animation: pulse-button 2s infinite ease-in-out;
            z-index: 10;
        }

        #startButton:active {
            transform: translateY(5px);
            box-shadow: 0 5px 0 var(--color-button-shadow);
        }

        @keyframes pulse-button {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @keyframes sparkle-float {
            0% { transform: translateY(0); }
            100% { transform: translateY(-100px); }
        }

        /* --- Cena 2: A Viagem Espacial --- */
        #scene2 {
            background-color: var(--color-space);
            background-image: 
                /* Estrelas piscando (camada 1) */
                radial-gradient(white, rgba(255,255,255,0.2) 2px, transparent 40px),
                /* Estrelas piscando (camada 2) */
                radial-gradient(white, rgba(255,255,255,0.15) 1px, transparent 30px),
                /* Nebulosa sutil */
                radial-gradient(rgba(100, 150, 255, 0.1), transparent 70%);
            background-size: 550px 550px, 350px 350px, 100% 100%;
            background-position: 0 0, 40px 60px, 0 0;
            animation: twinkle-stars 10s linear infinite;
        }

        @keyframes twinkle-stars {
            from { background-position: 0 0, 40px 60px, 0 0; }
            to { background-position: -550px -550px, -350px -350px, 0 0; }
        }

        #sun {
            width: 150px;
            height: 150px;
            background-color: var(--color-sun);
            border-radius: 50%;
            position: absolute;
            box-shadow: 
                0 0 60px 20px #fff, 
                0 0 100px 50px var(--color-sun),
                0 0 140px 80px #ffc107;
            transition: all 1s ease-out;
            transform: scale(1);
            animation: pulse-sun 5s infinite ease-in-out;
            z-index: 1; /* Garante que o sol fique atrás do foguete */
        }
        
        @keyframes pulse-sun {
            0%, 100% { transform: scale(1); box-shadow: 0 0 60px 20px #fff, 0 0 100px 50px var(--color-sun), 0 0 140px 80px #ffc107; }
            50% { transform: scale(1.05); box-shadow: 0 0 70px 30px #fff, 0 0 110px 60px var(--color-sun), 0 0 150px 90px #ffc107; }
        }

        /* O Contêiner da Órbita */
        #orbit-container {
            width: 380px; /* Diâmetro da órbita */
            height: 380px;
            position: absolute;
            display: flex;
            justify-content: center;
            align-items: center;
            /* A animação 'orbit-spin' será aplicada via JS */
        }

        /* O Foguete CSS */
        #rocket {
            width: 40px;
            height: 80px;
            position: absolute;
            top: 0; /* Começa no topo do orbit-container */
            transform: translateY(-50%) rotate(0deg); /* Ajusta para centralizar e apontar */
            z-index: 2; /* Garante que o foguete fique acima do sol */
            transition: opacity 0.5s;
            /* A rotação em torno do sol será feita pelo #orbit-container */
        }

        /* Animação para a rotação do foguete sobre o próprio eixo durante a órbita */
        @keyframes rocket-self-rotate {
            from { transform: translateY(-50%) rotate(0deg); }
            to { transform: translateY(-50%) rotate(360deg); }
        }
        /* Animação para a órbita do foguete (no container) */
        @keyframes orbit-spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }


        .rocket-body {
            width: 100%;
            height: 100%;
            background: #f0f0f0;
            border-radius: 50% 50% 10% 10% / 60% 60% 10% 10%;
            position: relative;
            border: 2px solid #ccc;
        }
        .rocket-body::before { /* Nariz */
            content: '';
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 20px solid transparent;
            border-right: 20px solid transparent;
            border-bottom: 25px solid var(--color-flame);
        }
        .window {
            width: 20px;
            height: 20px;
            background: var(--color-sky-light);
            border: 3px solid #555;
            border-radius: 50%;
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
        }
        .flame {
            position: absolute;
            bottom: -35px;
            left: 50%;
            transform: translateX(-50%);
            width: 20px;
            height: 40px;
            background: linear-gradient(var(--color-flame), #ffc107);
            border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
            animation: flicker 0.1s infinite;
        }

        @keyframes flicker {
            0% { transform: translateX(-50%) scaleY(1) scaleX(1); opacity: 1; }
            50% { transform: translateX(-55%) scaleY(1.2) scaleX(1.1); opacity: 0.9; }
            100% { transform: translateX(-50%) scaleY(1) scaleX(1); opacity: 1; }
        }

        /* Explosão "Supernova" */
        #explosion {
            width: 10px;
            height: 10px;
            position: absolute;
            border-radius: 50%;
            transform: scale(0);
            opacity: 0;
            z-index: 3; /* Acima do sol e do foguete */
        }
        #explosion.active {
            animation: supernova 1.2s ease-out forwards;
        }

        @keyframes supernova {
            0% {
                transform: scale(0);
                opacity: 1;
                box-shadow: 0 0 10px 10px #fff,
                            0 0 20px 20px var(--color-sun),
                            0 0 30px 30px var(--color-flame);
            }
            80% {
                transform: scale(30);
                opacity: 0.5;
                box-shadow: 0 0 200px 100px #fff,
                            0 0 300px 150px var(--color-sun),
                            0 0 400px 200px var(--color-flame);
            }
            100% {
                transform: scale(35);
                opacity: 0;
            }
        }


        /* --- Cena 3: O Parque Mágico (Com Parallax) --- */
        #scene3 {
            background-color: var(--color-sky-light); /* Céu de fundo */
        }

        .parallax-layer {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            transition: transform 0.5s cubic-bezier(0.23, 1, 0.32, 1); /* Suaviza o parallax */
        }
        
        /* Camada 1: Céu (Estático) */
        #p-sky {
            background: linear-gradient(to bottom, var(--color-sky-light) 50%, var(--color-sky-dark));
        }

        /* Camada 2: Nuvens de Fundo */
        #p-clouds-back {
            background-image: 
                url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 100"><path d="M50 80 Q 70 40 100 60 Q 130 30 160 60 Q 190 40 210 60 Q 230 50 250 70 L 50 80 Z" fill="rgba(255,255,255,0.5)"/></svg>'),
                url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 100"><path d="M30 70 Q 50 30 80 50 Q 110 20 140 50 Q 170 30 190 50 Q 210 40 230 60 L 30 70 Z" fill="rgba(255,255,255,0.4)"/></svg>');
            background-repeat: repeat-x;
            background-position: 0 10%, 150px 20%;
            background-size: 400px, 300px;
            animation: slow-pan 50s linear infinite;
        }

        /* Camada 3: Grama */
        #p-grass {
            background: var(--color-grass);
            height: 30%;
            top: 70%;
            box-shadow: 0 -10px 20px rgba(0,0,0,0.1);
        }
        
        /* Camada 4: Conteúdo Principal (Mensagens e Nuvens) */
        #p-content {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            z-index: 20;
        }
        
        /* Camada 5: Partículas de Brilho */
        #sparkle-container {
            z-index: 30;
            pointer-events: none; /* Permite clicar através */
        }
        .sparkle {
            position: absolute;
            width: 6px;
            height: 6px;
            background: #fff;
            border-radius: 50%;
            box-shadow: 0 0 10px #fff, 0 0 20px var(--color-sun);
            animation: float-up 5s linear forwards;
        }

        @keyframes float-up {
            from {
                transform: translateY(0);
                opacity: 1;
            }
            to {
                transform: translateY(-500px);
                opacity: 0;
            }
        }

        @keyframes slow-pan {
            from { background-position: 0 10%, 150px 20%; }
            to { background-position: -400px 10%, -150px 20%; }
        }

        /* --- Estilo das Nuvens de Mensagem --- */
        .cloud {
            background: var(--color-cloud);
            padding: 20px 35px;
            border-radius: 70px;
            box-shadow: 0 15px 30px rgba(0,0,0,0.1);
            position: relative;
            display: inline-block;
            margin: 20px;
            animation: float-cloud 8s ease-in-out infinite;
            border: 5px solid rgba(255, 255, 255, 0.8);
        }

        /* Forma de nuvem (usando pseudo-elementos) */
        .cloud::before, .cloud::after {
            content: '';
            position: absolute;
            background: var(--color-cloud);
            border-radius: 50%;
            z-index: -1;
        }
        .cloud::before {
            width: 100px; height: 100px;
            top: -60px; left: 30px;
        }
        .cloud::after {
            width: 120px; height: 120px;
            top: -50px; right: 20px;
        }
        
        /* Nuvem Principal (Ravi) */
        #ravi-cloud {
            z-index: 10;
        }
        #ravi-cloud h2 {
            font-family: var(--font-display);
            font-size: 2.5rem;
            color: var(--color-text-dark);
            margin: 0;
            line-height: 1.2;
        }
        #ravi-cloud h3 {
            font-family: var(--font-ui);
            font-size: 1.5rem;
            color: var(--color-button);
            margin: 0;
        }

        /* Para centralizar o conteúdo do parque */
        #p-content {
            height: 100%;
            width: 100%;
        }

    </style>
</head>
<body>

    <div id="container">

        <div id="scene1" class="scene active">
            <h1 id="intro-title">Ravi Luiz<br>faz 1 aninho!</h1>
            <button id="startButton">vamos dar a primeira volta ao sol comigo?</button>
        </div>

        <div id="scene2" class="scene">
            <div id="sun"></div>
            
            <div id="orbit-container">
                <div id="rocket">
                    <div class="rocket-body">
                        <div class="window"></div>
                    </div>
                    <div class="flame"></div>
                </div>
            </div>

            <div id="explosion"></div>
        </div>

        <div id="scene3" class="scene">
            
            <div class="parallax-layer" id="p-sky"></div>
            <div class="parallax-layer" id="p-clouds-back" data-speed="2"></div>
            <div class="parallax-layer" id="p-grass" data-speed="8"></div>
            <div class="parallax-layer" id="sparkle-container" data-speed="1"></div>
            
            <div class="parallax-layer" id="p-content" data-speed="5">
                
                <div id="ravi-cloud" class="cloud">
                    <h2>Obrigado pela presença!</h2>
                    <h3>Ravi Luiz - 1 aninho</h3>
                </div>
                
            </div>
            
        </div>

    </div>

    <script>
        // Selecionando todos os elementos principais
        const scenes = document.querySelectorAll('.scene');
        const startButton = document.getElementById('startButton');
        
        // Elementos da Cena 2
        const sun = document.getElementById('sun');
        const orbitContainer = document.getElementById('orbit-container');
        const rocket = document.getElementById('rocket');
        const explosion = document.getElementById('explosion');
        
        // Elementos da Cena 3
        const parallaxLayers = document.querySelectorAll('.parallax-layer[data-speed]');
        const sparkleContainer = document.getElementById('sparkle-container');
        const scene3 = document.getElementById('scene3');

        // --- Gerenciador de Cenas ---
        function goToScene(sceneIndex) {
            scenes.forEach((scene, index) => {
                if (index === sceneIndex) {
                    scene.classList.remove('exiting');
                    scene.classList.add('active');
                } else if (scene.classList.contains('active')) {
                    scene.classList.remove('active');
                    scene.classList.add('exiting');
                } else {
                    scene.classList.remove('active', 'exiting');
                }
            });
        }

        // --- Lógica da Animação ---
        startButton.addEventListener('click', () => {
            // 1. Inicia a transição para a Cena 2
            goToScene(1);

            // 2. Garante que os elementos da Cena 2 estão visíveis e na posição inicial
            sun.style.transform = 'scale(1)';
            sun.style.opacity = '1';
            rocket.style.opacity = '1';
            explosion.classList.remove('active');
            
            // Reinicia a animação de órbita do foguete (para o caso de ser rodado várias vezes)
            orbitContainer.style.animation = 'none';
            rocket.style.animation = 'none';
            void orbitContainer.offsetWidth; // Trigger reflow
            void rocket.offsetWidth; // Trigger reflow
            
            // Inicia a animação de órbita do container e a rotação do foguete
            orbitContainer.style.animation = 'orbit-spin 4s linear 1 forwards'; // 1 volta de órbita
            rocket.style.animation = 'rocket-self-rotate 1s linear infinite'; // Foguete gira em seu próprio eixo

            // 3. Após a órbita (4s), inicia a explosão
            setTimeout(() => {
                // Para as animações do foguete e órbita
                orbitContainer.style.animationPlayState = 'paused';
                rocket.style.animationPlayState = 'paused';

                // Esconde o Sol e o Foguete
                sun.style.transform = 'scale(0)';
                sun.style.opacity = '0';
                rocket.style.opacity = '0';
                
                // Ativa a explosão
                explosion.classList.add('active');
                
            }, 4000); // 4000ms = 4s (duração da animação 'orbit-spin')

            // 4. Após a explosão (1.2s), transiciona para a Cena 3
            setTimeout(() => {
                goToScene(2);
                initScene3(); // Ativa os efeitos mágicos da cena 3
            }, 5200); // 4000ms (órbita) + 1200ms (explosão)
        });

        // --- Lógica da Cena 3 (Mágica) ---
        function initScene3() {
            // 1. Efeito Parallax no movimento do mouse
            scene3.addEventListener('mousemove', (e) => {
                // Calcula a posição do mouse de -0.5 a 0.5
                let x = (e.clientX - window.innerWidth / 2) / window.innerWidth;
                let y = (e.clientY - window.innerHeight / 2) / window.innerHeight;

                parallaxLayers.forEach(layer => {
                    const speed = layer.getAttribute('data-speed');
                    const xOffset = -(x * speed * 20); // Multiplica para o efeito ser visível
                    const yOffset = -(y * speed * 10);
                    layer.style.transform = `translate(${xOffset}px, ${yOffset}px)`;
                });
            });

            // 2. Gerador de Partículas de Brilho
            // Garante que não crie vários intervalos se initScene3 for chamada mais de uma vez
            if (!scene3.dataset.sparkleInterval) {
                scene3.dataset.sparkleInterval = setInterval(createSparkle, 300);
            }
        }

        function createSparkle() {
            const sparkle = document.createElement('div');
            sparkle.className = 'sparkle';
            sparkle.style.left = `${Math.random() * 100}%`;
            sparkle.style.bottom = `${Math.random() * 20}%`; // Começa mais perto do chão, mas variado
            
            sparkleContainer.appendChild(sparkle);

            // Remove a partícula após a animação
            setTimeout(() => {
                sparkle.remove();
            }, 5000); // 5s (duração da animação float-up)
        }

        // Inicia na Cena 1 quando a página carrega
        goToScene(0);

    </script>

</body>
</html>
